<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover"/>
  <meta name="theme-color" content="#ffffff"/>
  <title>Library Yammine</title>
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link href="https://fonts.googleapis.com/css2?family=Inter:opsz,wght@14..32,300..700&display=swap" rel="stylesheet"/>
  <style>
    /* --- RESET & BASE (black & white only) --- */
    *,
    *::before,
    *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    :root {
      --white: #ffffff;
      --black: #111111;
      --gray-light: #f0f0f0;
      --gray-border: #dddddd;
      --gray-text: #555555;
      --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      --radius: 12px;
      --shadow: 0 1px 4px rgba(0,0,0,0.05);
      --hdr: 58px;
      --nav-w: 280px;
    }
    html { scroll-behavior: smooth; }
    body {
      font-family: var(--font-sans);
      background: var(--white);
      color: var(--black);
      min-height: 100vh;
      -webkit-tap-highlight-color: transparent;
      line-height: 1.5;
    }
    button {
      font-family: var(--font-sans);
      cursor: pointer;
      background: none;
      border: none;
    }
    img { display: block; max-width: 100%; }
    ::-webkit-scrollbar { width: 4px; }
    ::-webkit-scrollbar-track { background: transparent; }
    ::-webkit-scrollbar-thumb { background: var(--gray-border); border-radius: 99px; }

    /* --- TOAST --- */
    #toast {
      position: fixed;
      bottom: 80px;
      left: 50%;
      transform: translateX(-50%) translateY(10px);
      background: var(--black);
      color: var(--white);
      padding: 8px 16px;
      border-radius: 40px;
      font-size: 13px;
      font-weight: 500;
      white-space: nowrap;
      z-index: 9999;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.2s, transform 0.2s;
    }
    #toast.show { opacity: 1; transform: translateX(-50%) translateY(0); }

    /* --- LEFT DRAWER (nav) --- */
    .nav-overlay {
      position: fixed; inset: 0; background: rgba(0,0,0,0.3); z-index: 500;
      opacity: 0; pointer-events: none; transition: opacity 0.25s;
      backdrop-filter: blur(2px);
    }
    .nav-overlay.open { opacity: 1; pointer-events: all; }
    .nav-drawer {
      position: fixed; top: 0; left: 0; bottom: 0; width: var(--nav-w);
      background: var(--white); border-right: 1px solid var(--gray-border);
      z-index: 510; transform: translateX(-100%); transition: transform 0.25s ease;
      display: flex; flex-direction: column;
    }
    .nav-drawer.open { transform: translateX(0); }
    .nav-header {
      padding: 18px 16px; border-bottom: 1px solid var(--gray-border);
      display: flex; align-items: center; justify-content: space-between;
    }
    .nav-brand { font-weight: 700; font-size: 18px; letter-spacing: -0.02em; }
    .nav-sub { font-size: 10px; color: var(--gray-text); margin-top: 2px; }
    .nav-close {
      width: 32px; height: 32px; border-radius: 50%; background: var(--gray-light);
      font-size: 16px; display: flex; align-items: center; justify-content: center;
    }
    .nav-links { padding: 8px 0; border-bottom: 1px solid var(--gray-border); }
    .nav-link {
      display: flex; align-items: center; gap: 12px; padding: 12px 16px;
      font-size: 14px; font-weight: 500; color: var(--black); width: 100%;
      border-left: 3px solid transparent; transition: none;
    }
    .nav-link.active { border-left-color: var(--black); background: var(--gray-light); }
    .nav-cat-label {
      padding: 16px 16px 8px; font-size: 11px; font-weight: 600;
      color: var(--gray-text); letter-spacing: 0.05em; text-transform: uppercase;
    }
    .nav-cats { flex: 1; overflow-y: auto; padding-bottom: 8px; }
    .nav-cat {
      display: flex; align-items: center; justify-content: space-between;
      padding: 10px 16px; width: 100%; font-size: 13px; color: var(--black);
      border-left: 3px solid transparent;
    }
    .nav-cat.active { border-left-color: var(--black); background: var(--gray-light); }
    .nav-cat-left { display: flex; align-items: center; gap: 8px; }
    .nav-cat-count {
      font-size: 10px; color: var(--gray-text); background: var(--gray-light);
      padding: 2px 6px; border-radius: 30px;
    }
    .nav-footer {
      padding: 16px; border-top: 1px solid var(--gray-border);
      font-size: 10px; color: var(--gray-text);
    }

    /* --- TOP HEADER --- */
    #header {
      position: sticky; top: 0; z-index: 200; background: var(--white);
      border-bottom: 1px solid var(--gray-border); height: var(--hdr);
    }
    .header-inner {
      display: flex; align-items: center; padding: 0 12px; height: 100%;
      max-width: 640px; margin: 0 auto; gap: 8px;
    }
    .hamburger {
      width: 38px; height: 38px; border-radius: 8px; background: var(--white);
      border: 1px solid var(--gray-border); display: flex; flex-direction: column;
      align-items: center; justify-content: center; gap: 4px;
    }
    .hamburger span { width: 18px; height: 1.5px; background: var(--black); }
    .logo {
      flex: 1; font-weight: 700; font-size: 18px; letter-spacing: -0.02em;
      cursor: pointer; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
    }
    .logo small { font-size: 11px; font-weight: 400; color: var(--gray-text); margin-left: 4px; }
    .header-right { display: flex; align-items: center; gap: 6px; }
    .search-btn {
      width: 38px; height: 38px; border-radius: 8px; border: 1px solid var(--gray-border);
      background: var(--white); font-size: 16px; display: flex; align-items: center; justify-content: center;
    }
    .cart-btn {
      background: var(--black); color: var(--white); border: none;
      border-radius: 30px; padding: 7px 14px; font-size: 14px; font-weight: 500;
      display: flex; align-items: center; gap: 6px;
    }
    .cart-badge {
      background: var(--white); color: var(--black); font-size: 10px; font-weight: 700;
      min-width: 18px; height: 18px; border-radius: 30px; padding: 0 4px;
      display: none; align-items: center; justify-content: center;
    }
    .cart-badge.show { display: flex; }

    /* --- SEARCH OVERLAY --- */
    .search-overlay {
      position: fixed; inset: 0; z-index: 600; background: rgba(0,0,0,0.3);
      display: none; flex-direction: column; backdrop-filter: blur(2px);
    }
    .search-overlay.open { display: flex; }
    .search-bar {
      background: var(--white); padding: 10px 12px; display: flex; align-items: center; gap: 8px;
    }
    .search-bar input {
      flex: 1; border: none; outline: none; font-size: 16px; background: transparent;
    }
    .search-bar input::placeholder { color: var(--gray-text); }
    .search-cancel { font-size: 14px; color: var(--black); padding: 4px; }
    .search-area {
      flex: 1; background: var(--white); overflow-y: auto; padding: 0 12px 60px;
    }
    .search-item {
      display: flex; align-items: center; gap: 12px; padding: 12px 0;
      border-bottom: 1px solid var(--gray-border); cursor: pointer;
    }
    .search-img-placeholder {
      width: 48px; height: 48px; border-radius: 8px; background: var(--gray-light);
      display: flex; align-items: center; justify-content: center; font-size: 22px;
    }
    .search-info { flex: 1; min-width: 0; }
    .search-name { font-size: 13px; font-weight: 500; }
    .search-category { font-size: 11px; color: var(--gray-text); }
    .search-price { font-size: 13px; font-weight: 600; }
    .search-msg { text-align: center; padding: 50px 20px; color: var(--gray-text); }

    /* --- MAIN CONTENT --- */
    #app { max-width: 640px; margin: 0 auto; padding: 0 0 90px; }
    .page { display: none; }
    .page.active { display: block; animation: fade 0.2s; }
    @keyframes fade { from { opacity: 0; } to { opacity: 1; } }

    /* --- HOME PAGE --- */
    .hero {
      background: var(--black); color: var(--white); margin: 12px 12px 0;
      border-radius: var(--radius); padding: 34px 22px;
    }
    .hero-eyebrow { font-size: 11px; letter-spacing: 0.1em; margin-bottom: 8px; color: #ccc; }
    .hero-title { font-size: 32px; font-weight: 700; line-height: 1.2; margin-bottom: 12px; }
    .hero-sub { font-size: 14px; color: #aaa; margin-bottom: 18px; }
    .hero-btn {
      background: var(--white); color: var(--black); border: none;
      border-radius: 40px; padding: 10px 20px; font-size: 14px; font-weight: 600;
    }
    .section-header {
      display: flex; align-items: baseline; justify-content: space-between;
      padding: 20px 12px 8px;
    }
    .section-title { font-size: 20px; font-weight: 600; }
    .section-link { font-size: 13px; color: var(--gray-text); }
    .cat-strip {
      display: flex; gap: 8px; overflow-x: auto; padding: 0 12px 8px;
      scrollbar-width: none;
    }
    .cat-strip::-webkit-scrollbar { display: none; }
    .cat-pill {
      background: var(--white); border: 1px solid var(--gray-border);
      border-radius: 40px; padding: 8px 16px; font-size: 13px; font-weight: 500;
      white-space: nowrap; cursor: pointer;
    }

    /* --- ITEMS GRID (2 columns mobile, 3 on larger) --- */
    .items-grid {
      display: grid; grid-template-columns: 1fr 1fr; gap: 10px;
      padding: 4px 12px 0;
    }
    @media (min-width: 480px) { .items-grid { grid-template-columns: repeat(3, 1fr); } }
    .item-card {
      background: var(--white); border: 1px solid var(--gray-border);
      border-radius: var(--radius); overflow: hidden;
    }
    .item-image {
      aspect-ratio: 1 / 1; background: var(--gray-light);
      display: flex; align-items: center; justify-content: center;
      font-size: 32px; color: #aaa; position: relative;
    }
    .item-image img { width: 100%; height: 100%; object-fit: cover; }
    .sale-badge {
      position: absolute; top: 8px; left: 8px; background: var(--black);
      color: var(--white); font-size: 10px; font-weight: 700; padding: 3px 6px;
      border-radius: 30px; z-index: 2;
    }
    .item-info { padding: 10px; }
    .item-category {
      font-size: 9px; font-weight: 600; text-transform: uppercase;
      color: var(--gray-text); margin-bottom: 2px;
    }
    .item-name {
      font-size: 13px; font-weight: 500; margin-bottom: 8px;
      display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical;
      overflow: hidden; line-height: 1.4;
    }
    .item-footer {
      display: flex; align-items: center; justify-content: space-between;
    }
    .item-price {
      font-size: 14px; font-weight: 700;
      display: flex; align-items: center; gap: 4px; flex-wrap: wrap;
    }
    .old-price {
      font-size: 11px; font-weight: 400; color: var(--gray-text);
      text-decoration: line-through;
    }
    .add-button {
      width: 32px; height: 32px; border-radius: 50%; background: var(--white);
      border: 1.5px solid var(--black); color: var(--black);
      font-size: 18px; display: flex; align-items: center; justify-content: center;
      transition: 0.1s; cursor: pointer;
    }
    .add-button.added { background: var(--black); color: var(--white); border-color: var(--black); }
    .add-button:active { transform: scale(0.9); }

    /* --- SKELETON LOADER --- */
    .skeleton-grid {
      display: grid; grid-template-columns: 1fr 1fr; gap: 10px; padding: 4px 12px;
    }
    @media (min-width: 480px) { .skeleton-grid { grid-template-columns: repeat(3, 1fr); } }
    .skeleton-card {
      background: var(--white); border: 1px solid var(--gray-border);
      border-radius: var(--radius); overflow: hidden;
    }
    .skeleton-img {
      width: 100%; aspect-ratio: 1/1; background: linear-gradient(90deg, #f0f0f0 0%, #fafafa 50%, #f0f0f0 100%);
      background-size: 200% 100%; animation: shimmer 1.2s infinite;
    }
    .skeleton-line {
      height: 12px; background: #f0f0f0; border-radius: 4px; margin: 8px 8px 4px;
    }
    .skeleton-line.short { width: 60%; }
    @keyframes shimmer { 0% { background-position: 200% 0; } 100% { background-position: -200% 0; } }

    /* --- CATEGORY PAGE HEADER & FILTERS --- */
    .cat-header {
      padding: 16px 12px 8px; border-bottom: 1px solid var(--gray-border);
    }
    .cat-title-row {
      display: flex; align-items: center; gap: 8px; margin-bottom: 6px;
    }
    .cat-title { font-size: 22px; font-weight: 600; }
    .home-icon {
      font-size: 18px; background: var(--gray-light); border-radius: 50%;
      width: 32px; height: 32px; display: flex; align-items: center; justify-content: center;
    }
    .cat-count { font-size: 12px; color: var(--gray-text); margin-bottom: 12px; }
    .filter-bar {
      display: flex; flex-wrap: wrap; gap: 10px; padding: 12px 12px 4px;
      align-items: center;
    }
    .sort-select {
      padding: 6px 12px; border: 1px solid var(--gray-border); border-radius: 40px;
      font-size: 13px; background: var(--white); color: var(--black);
    }
    .sale-toggle {
      display: flex; align-items: center; gap: 6px;
      background: var(--white); border: 1px solid var(--gray-border);
      border-radius: 40px; padding: 6px 12px; font-size: 13px; cursor: pointer;
    }
    .sale-toggle input { margin: 0; width: 16px; height: 16px; accent-color: var(--black); }

    /* --- PAGINATION --- */
    .pagination {
      display: flex; align-items: center; justify-content: center; gap: 8px;
      padding: 24px 12px 12px; flex-wrap: wrap;
    }
    .page-btn {
      width: 36px; height: 36px; border-radius: 50%; border: 1px solid var(--gray-border);
      background: var(--white); font-size: 13px; display: flex; align-items: center;
      justify-content: center; cursor: pointer;
    }
    .page-btn.active { background: var(--black); color: var(--white); border-color: var(--black); }
    .page-btn.dots { border: none; }
    .nav-btn {
      display: flex; align-items: center; gap: 4px; padding: 8px 14px;
      border: 1px solid var(--gray-border); border-radius: 40px; background: var(--white);
      font-size: 13px; font-weight: 500; cursor: pointer;
    }
    .nav-btn:disabled { opacity: 0.3; pointer-events: none; }

    /* --- BACK TO TOP BUTTON --- */
    .back-to-top {
      position: fixed; bottom: 90px; right: 16px; width: 44px; height: 44px;
      background: var(--black); color: var(--white); border-radius: 50%;
      display: flex; align-items: center; justify-content: center;
      font-size: 20px; cursor: pointer; z-index: 300; box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      opacity: 0; pointer-events: none; transition: opacity 0.2s;
    }
    .back-to-top.visible { opacity: 1; pointer-events: all; }

    /* --- ABOUT & CONTACT PAGES (simple) --- */
    .page-wrap { padding: 12px; }
    .about-hero {
      background: var(--black); color: var(--white); border-radius: var(--radius);
      padding: 28px 20px; margin-bottom: 12px;
    }
    .about-hero h1 { font-size: 26px; font-weight: 600; margin-bottom: 8px; }
    .about-hero p { color: #aaa; font-size: 14px; }
    .card {
      background: var(--white); border: 1px solid var(--gray-border);
      border-radius: var(--radius); padding: 18px; margin-bottom: 12px;
    }
    .card h2 { font-size: 16px; font-weight: 600; margin-bottom: 12px; }
    .card p { font-size: 13px; color: var(--gray-text); margin-bottom: 6px; }
    .values-grid {
      display: grid; grid-template-columns: 1fr 1fr; gap: 8px;
    }
    .value-item { border-left: 3px solid var(--black); padding-left: 10px; }
    .value-item h3 { font-size: 13px; font-weight: 600; margin-bottom: 2px; }
    .value-item p { font-size: 11px; color: var(--gray-text); }

    /* --- CART DRAWER (simplified) --- */
    .cart-overlay {
      position: fixed; inset: 0; background: rgba(0,0,0,0.3); z-index: 700;
      opacity: 0; pointer-events: none; transition: opacity 0.2s;
    }
    .cart-overlay.open { opacity: 1; pointer-events: all; }
    .cart-drawer {
      position: fixed; top: 0; right: 0; bottom: 0; width: min(340px, 100%);
      background: var(--white); z-index: 710; transform: translateX(100%);
      transition: transform 0.25s ease; display: flex; flex-direction: column;
      border-left: 1px solid var(--gray-border);
    }
    .cart-drawer.open { transform: translateX(0); }
    .cart-header {
      padding: 16px; border-bottom: 1px solid var(--gray-border);
      display: flex; align-items: center; justify-content: space-between;
    }
    .cart-header h2 { font-size: 18px; font-weight: 600; }
    .cart-close {
      width: 32px; height: 32px; border-radius: 50%; background: var(--gray-light);
      display: flex; align-items: center; justify-content: center;
    }
    .cart-items { flex: 1; overflow-y: auto; padding: 0 16px; }
    .cart-empty {
      display: flex; flex-direction: column; align-items: center;
      justify-content: center; padding: 60px 20px; color: var(--gray-text);
      text-align: center;
    }
    .cart-item {
      display: flex; align-items: center; gap: 12px; padding: 14px 0;
      border-bottom: 1px solid var(--gray-border);
    }
    .cart-item-image {
      width: 52px; height: 52px; border-radius: 8px; background: var(--gray-light);
      display: flex; align-items: center; justify-content: center; font-size: 22px;
    }
    .cart-item-info { flex: 1; min-width: 0; }
    .cart-item-name { font-size: 13px; font-weight: 500; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
    .cart-item-category { font-size: 11px; color: var(--gray-text); }
    .cart-item-price { font-size: 12px; font-weight: 600; margin-top: 2px; }
    .cart-qty {
      display: flex; align-items: center; gap: 6px; flex-shrink: 0;
    }
    .qty-btn {
      width: 28px; height: 28px; border-radius: 50%; border: 1px solid var(--gray-border);
      background: var(--white); display: flex; align-items: center; justify-content: center;
      font-size: 14px; font-weight: 600;
    }
    .qty-btn.trash { border-color: #ccc; color: #b00; }
    .qty-num { min-width: 20px; text-align: center; font-size: 13px; font-weight: 600; }
    .cart-footer {
      padding: 16px; border-top: 1px solid var(--gray-border);
      background: var(--white);
    }
    .cart-total {
      display: flex; justify-content: space-between; align-items: center;
      margin-bottom: 12px; font-weight: 600; font-size: 16px;
    }
    .clear-btn {
      width: 100%; padding: 12px; background: var(--white); border: 1px solid var(--gray-border);
      border-radius: 40px; font-size: 14px; font-weight: 500; cursor: pointer;
    }

    /* --- FOOTER --- */
    footer {
      background: var(--black); color: #aaa; padding: 28px 16px;
      text-align: center; margin-top: 20px;
    }
    .footer-logo { font-weight: 700; font-size: 18px; color: var(--white); margin-bottom: 4px; }
    .footer-links {
      display: flex; justify-content: center; gap: 20px; margin: 14px 0;
    }
    .footer-links button { color: #aaa; font-size: 12px; }
    .footer-copy { font-size: 11px; }
    .footer-copy a { color: var(--white); text-decoration: none; }
  </style>
</head>
<body>

<div id="toast"></div>

<!-- LEFT NAVIGATION DRAWER -->
<div class="nav-overlay" id="navOverlay" onclick="closeNav()"></div>
<nav class="nav-drawer" id="navDrawer">
  <div class="nav-header">
    <div>
      <div class="nav-brand">Library Yammine</div>
      <div class="nav-sub">Est. Lebanon</div>
    </div>
    <button class="nav-close" onclick="closeNav()">‚úï</button>
  </div>
  <div class="nav-links">
    <button class="nav-link active" id="navHome" onclick="navigateTo('home')">üè† Home</button>
    <button class="nav-link" id="navAbout" onclick="navigateTo('about')">‚ÑπÔ∏è About</button>
    <button class="nav-link" id="navContact" onclick="navigateTo('contact')">üìû Contact</button>
  </div>
  <div class="nav-cat-label">Categories</div>
  <div class="nav-cats" id="navCats"></div>
  <div class="nav-footer">¬© 2026 Library Yammine</div>
</nav>

<!-- HEADER -->
<header id="header">
  <div class="header-inner">
    <button class="hamburger" onclick="openNav()"><span></span><span></span><span></span></button>
    <div class="logo" onclick="goHome()">Library Yammine <small>Lebanon</small></div>
    <div class="header-right">
      <button class="search-btn" onclick="openSearch()">üîç</button>
      <button class="cart-btn" onclick="openCart()">
        üõí<span class="cart-badge" id="cartBadge"></span>
      </button>
    </div>
  </div>
</header>

<!-- SEARCH OVERLAY -->
<div class="search-overlay" id="searchOverlay">
  <div class="search-bar">
    <span style="color:#aaa;">üîç</span>
    <input type="search" id="searchInput" placeholder="Search items..." autocomplete="off">
    <button class="search-cancel" onclick="closeSearch()">Cancel</button>
  </div>
  <div class="search-area" id="searchResults"></div>
</div>

<!-- MAIN APP -->
<div id="app">
  <!-- HOME PAGE -->
  <div id="page-home" class="page active">
    <div class="hero">
      <div class="hero-eyebrow">‚ú¶ Welcome to</div>
      <div class="hero-title">Library Yammine</div>
      <div class="hero-sub">Stationery, books, art & gifts ‚Äî for curious minds.</div>
      <button class="hero-btn" onclick="showCategory('all', 1)">Browse Collection ‚Üí</button>
    </div>
    <div class="section-header">
      <span class="section-title">Categories</span>
    </div>
    <div class="cat-strip" id="homeCategories"></div>
    <div class="section-header" style="margin-top:4px">
      <span class="section-title">Featured</span>
      <button class="section-link" onclick="showCategory('all', 1)">View all</button>
    </div>
    <div id="featuredArea">
      <div class="skeleton-grid" id="featuredSkeleton">
        <div class="skeleton-card"><div class="skeleton-img"></div><div class="skeleton-line"></div><div class="skeleton-line short"></div></div>
        <div class="skeleton-card"><div class="skeleton-img"></div><div class="skeleton-line"></div><div class="skeleton-line short"></div></div>
      </div>
      <div class="items-grid" id="featuredGrid" style="display: none;"></div>
    </div>
  </div>

  <!-- CATEGORY PAGE -->
  <div id="page-category" class="page">
    <div class="cat-header">
      <div class="cat-title-row">
        <span class="cat-title" id="categoryTitle">All Items</span>
        <button class="home-icon" onclick="goHome()">üè†</button>
      </div>
      <div class="cat-count" id="categoryCount"></div>
    </div>
    <div class="filter-bar">
      <select class="sort-select" id="sortSelect">
        <option value="default">Sort by</option>
        <option value="price-asc">Price: Low ‚Üí High</option>
        <option value="price-desc">Price: High ‚Üí Low</option>
        <option value="name-asc">Name: A ‚Üí Z</option>
        <option value="name-desc">Name: Z ‚Üí A</option>
      </select>
      <label class="sale-toggle">
        <input type="checkbox" id="saleToggle"> Sale only
      </label>
    </div>
    <div id="categoryArea">
      <div class="skeleton-grid" id="categorySkeleton">
        <div class="skeleton-card"><div class="skeleton-img"></div><div class="skeleton-line"></div><div class="skeleton-line short"></div></div>
        <div class="skeleton-card"><div class="skeleton-img"></div><div class="skeleton-line"></div><div class="skeleton-line short"></div></div>
      </div>
      <div class="items-grid" id="categoryGrid" style="display: none;"></div>
      <div class="empty-state" id="categoryEmpty" style="display: none; text-align:center; padding:60px 20px; color:#aaa;">
        <div style="font-size:38px;">üì¶</div><div style="margin-top:8px;">No items found</div>
      </div>
    </div>
    <div id="paginationContainer"></div>
  </div>

  <!-- ABOUT PAGE -->
  <div id="page-about" class="page">
    <div class="page-wrap">
      <div class="about-hero">
        <h1>About Us</h1>
        <p>Library Yammine ‚Äì serving Lebanon with quality stationery, books, art supplies, and gifts.</p>
      </div>
      <div class="card">
        <h2>Our Story</h2>
        <p>Founded to support students, artists, and book lovers with carefully selected products.</p>
      </div>
      <div class="card">
        <h2>Location & Hours</h2>
        <p>üìç Lebanon<br>‚è∞ Mon‚ÄìSat 9:00‚Äì19:00, Sun 10:00‚Äì17:00<br>üìû +961 00 000 000</p>
      </div>
      <div class="card">
        <h2>Values</h2>
        <div class="values-grid">
          <div class="value-item"><h3>Quality</h3><p>Only the best</p></div>
          <div class="value-item"><h3>Knowledge</h3><p>Supporting learning</p></div>
          <div class="value-item"><h3>Community</h3><p>Proudly local</p></div>
          <div class="value-item"><h3>Creativity</h3><p>Inspiring ideas</p></div>
        </div>
      </div>
    </div>
  </div>

  <!-- CONTACT PAGE -->
  <div id="page-contact" class="page">
    <div class="page-wrap">
      <div class="card">
        <h2>Send a Message</h2>
        <div id="contactForm">
          <input type="text" placeholder="Your name" id="contactName" style="width:100%; padding:10px; border:1px solid #ddd; border-radius:8px; margin-bottom:10px;">
          <input type="text" placeholder="Phone or email" id="contactInfo" style="width:100%; padding:10px; border:1px solid #ddd; border-radius:8px; margin-bottom:10px;">
          <textarea placeholder="Message" id="contactMsg" rows="4" style="width:100%; padding:10px; border:1px solid #ddd; border-radius:8px; margin-bottom:10px;"></textarea>
          <button onclick="submitContact()" style="background:#000; color:#fff; border:none; padding:12px; width:100%; border-radius:40px; font-weight:600;">Send</button>
        </div>
        <div id="contactSuccess" style="display:none; text-align:center; padding:20px;">
          <div style="font-size:36px;">‚úì</div>
          <h3>Message sent!</h3>
          <p>We'll reply soon.</p>
          <button onclick="resetContact()" style="background:none; border:1px solid #000; padding:8px 20px; border-radius:40px; margin-top:10px;">Send another</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- BACK TO TOP BUTTON -->
<div class="back-to-top" id="backToTop" onclick="window.scrollTo({top:0,behavior:'smooth'})">‚Üë</div>

<!-- CART DRAWER -->
<div class="cart-overlay" id="cartOverlay" onclick="closeCart()"></div>
<div class="cart-drawer" id="cartDrawer">
  <div class="cart-header">
    <h2>Your Bag</h2>
    <button class="cart-close" onclick="closeCart()">‚úï</button>
  </div>
  <div class="cart-items" id="cartItemsList"></div>
  <div class="cart-footer" id="cartFooter" style="display:none;">
    <div class="cart-total"><span>Total</span> <span id="cartTotal">$0.00</span></div>
    <button class="clear-btn" onclick="clearCart()">Clear Bag</button>
  </div>
</div>

<!-- FOOTER -->
<footer>
  <div class="footer-logo">Library Yammine</div>
  <div class="footer-links">
    <button onclick="goHome()">Home</button>
    <button onclick="showCategory('all',1)">Shop</button>
    <button onclick="showPage('about')">About</button>
    <button onclick="showPage('contact')">Contact</button>
  </div>
  <div class="footer-copy">
    ¬© 2026 Library Yammine ‚Äî Developed & designed by <a href="https://maykelkhouryyammine.github.io" target="_blank">MaykelYammine</a>
  </div>
</footer>

<script>
// -------------------------------------------------------------
// CONFIG
// -------------------------------------------------------------
const SHEET_API = "https://script.google.com/macros/s/AKfycbzcRmLESKsO5SpkkJXdaP8XopAnaOcb9rFfYBcJz2UItLkJTrkcQST9XDSVHebVGRBw5w/exec";
const PER_PAGE = 20;
const CACHE_KEY = "ly_v4_data";
const CACHE_TS_KEY = "ly_v4_ts";
const CACHE_TTL = 5 * 60 * 1000; // 5 minutes

// -------------------------------------------------------------
// STATE
// -------------------------------------------------------------
let allItems = [];
let categories = [];
let categoryCounts = {};
let dataReady = false;
let fetching = false;

let currentPage = 'home';
let currentCategory = 'all';
let currentPageNum = 1;
let sortOption = 'default';
let saleOnly = false;

let cart = [];
let pageCache = {}; // e.g. "cat_all_page1_sorted" -> array of item ids

// -------------------------------------------------------------
// INIT
// -------------------------------------------------------------
ensureData();

// -------------------------------------------------------------
// DATA FETCHING
// -------------------------------------------------------------
async function ensureData() {
  if (dataReady) return;
  if (fetching) return new Promise(r => { let iv = setInterval(() => { if(dataReady) { clearInterval(iv); r(true); } }, 50); });
  fetching = true;

  // Try cache
  try {
    const cached = localStorage.getItem(CACHE_KEY);
    const ts = parseInt(localStorage.getItem(CACHE_TS_KEY) || '0');
    if (cached && Date.now() - ts < CACHE_TTL) {
      allItems = JSON.parse(cached);
      onDataLoaded();
      return;
    }
  } catch(e) {}

  // Fetch from API or fallback to demo
  try {
    const res = await fetch(SHEET_API);
    const data = await res.json();
    allItems = data.map(normalizeItem);
    if (allItems.length === 0) throw new Error('empty');
  } catch(e) {
    allItems = generateDemoItems(); // 100+ items
  }

  localStorage.setItem(CACHE_KEY, JSON.stringify(allItems));
  localStorage.setItem(CACHE_TS_KEY, String(Date.now()));
  onDataLoaded();
}

function normalizeItem(item) {
  return {
    id: item.id || item.name || Math.random().toString(36),
    name: item.name || 'Item',
    category: item.category || 'Other',
    price: parseFloat(item.price) || 0,
    salePrice: item.salePrice ? parseFloat(item.salePrice) : null,
    onSale: item.onSale === true || item.onSale === 'TRUE' || item.onSale === 'true',
    featured: item.featured === true || item.featured === 'TRUE' || item.featured === 'true',
    available: item.available !== false && item.available !== 'FALSE',
    image_url: item.image_url || '',
    description: item.description || ''
  };
}

function onDataLoaded() {
  dataReady = true;
  fetching = false;
  computeCategories();
  renderNavCategories();
  renderHomeCategories();
  renderFeatured();
}

function computeCategories() {
  const map = {};
  allItems.filter(i => i.available !== false).forEach(i => {
    const cat = i.category || 'Other';
    map[cat] = (map[cat] || 0) + 1;
  });
  categoryCounts = map;
  categories = Object.keys(map).sort();
}

// -------------------------------------------------------------
// NAVIGATION
// -------------------------------------------------------------
function openNav() {
  document.getElementById('navDrawer').classList.add('open');
  document.getElementById('navOverlay').classList.add('open');
  document.body.style.overflow = 'hidden';
}
function closeNav() {
  document.getElementById('navDrawer').classList.remove('open');
  document.getElementById('navOverlay').classList.remove('open');
  document.body.style.overflow = '';
}
function navigateTo(page) {
  closeNav();
  if (page === 'home') goHome();
  else if (page === 'about') showPage('about');
  else if (page === 'contact') showPage('contact');
}
function showPage(page) {
  currentPage = page;
  document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
  document.getElementById(`page-${page}`).classList.add('active');
  updateNavActive();
  window.scrollTo({ top: 0 });
}
function goHome() {
  currentPage = 'home';
  currentCategory = 'all';
  showPage('home');
  if (dataReady) renderFeatured();
}
function showCategory(cat, page = 1) {
  currentPage = 'category';
  currentCategory = cat;
  currentPageNum = page;
  sortOption = 'default';
  saleOnly = false;
  document.getElementById('sortSelect').value = 'default';
  document.getElementById('saleToggle').checked = false;
  showPage('category');
  renderCategoryPage(true); // force reload
}
function updateNavActive() {
  document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
  if (currentPage === 'home') document.getElementById('navHome').classList.add('active');
  if (currentPage === 'about') document.getElementById('navAbout').classList.add('active');
  if (currentPage === 'contact') document.getElementById('navContact').classList.add('active');
  // categories handled separately
}

// -------------------------------------------------------------
// RENDER NAV CATEGORIES
// -------------------------------------------------------------
function renderNavCategories() {
  const nav = document.getElementById('navCats');
  const total = allItems.filter(i => i.available !== false).length;
  let html = `<button class="nav-cat ${currentCategory === 'all' ? 'active' : ''}" onclick="showCategory('all',1)">
    <div class="nav-cat-left"><span>üì¶</span><span>All Items</span></div><span class="nav-cat-count">${total}</span>
  </button>`;
  categories.forEach(cat => {
    const count = categoryCounts[cat] || 0;
    html += `<button class="nav-cat ${currentCategory === cat ? 'active' : ''}" onclick="showCategory('${escapeJS(cat)}',1)">
      <div class="nav-cat-left"><span>${catIcon(cat)}</span><span>${escapeHTML(cat)}</span></div><span class="nav-cat-count">${count}</span>
    </button>`;
  });
  nav.innerHTML = html;
}

function catIcon(cat) {
  const icons = {
    'Stationery': '‚úèÔ∏è',
    'Books': 'üìñ',
    'Art': 'üé®',
    'School': 'üéí',
    'Office & Gifts': 'üéÅ'
  };
  return icons[cat] || 'üì¶';
}

// -------------------------------------------------------------
// HOME PAGE RENDERING
// -------------------------------------------------------------
function renderHomeCategories() {
  const strip = document.getElementById('homeCategories');
  let html = '';
  categories.forEach(cat => {
    html += `<div class="cat-pill" onclick="showCategory('${escapeJS(cat)}',1)">${catIcon(cat)} ${escapeHTML(cat)}</div>`;
  });
  strip.innerHTML = html;
}

function renderFeatured() {
  const skel = document.getElementById('featuredSkeleton');
  const grid = document.getElementById('featuredGrid');
  skel.style.display = 'grid';
  grid.style.display = 'none';

  if (!dataReady) return;

  let featured = allItems.filter(i => i.available !== false && i.featured);
  if (featured.length === 0) featured = allItems.filter(i => i.available !== false).slice(0, 8);
  grid.innerHTML = featured.map(item => itemCardHTML(item)).join('');
  skel.style.display = 'none';
  grid.style.display = 'grid';
  lazyImages();
}

// -------------------------------------------------------------
// CATEGORY PAGE RENDERING (with sort/filter + pagination)
// -------------------------------------------------------------
async function renderCategoryPage(force = false) {
  const titleEl = document.getElementById('categoryTitle');
  const countEl = document.getElementById('categoryCount');
  const skel = document.getElementById('categorySkeleton');
  const grid = document.getElementById('categoryGrid');
  const empty = document.getElementById('categoryEmpty');
  const pagination = document.getElementById('paginationContainer');

  titleEl.innerText = currentCategory === 'all' ? 'All Items' : currentCategory;
  skel.style.display = 'grid';
  grid.style.display = 'none';
  empty.style.display = 'none';
  pagination.innerHTML = '';

  if (!dataReady) await ensureData();

  // Get filtered items
  let items = allItems.filter(i => i.available !== false);
  if (currentCategory !== 'all') {
    items = items.filter(i => i.category === currentCategory);
  }
  if (saleOnly) {
    items = items.filter(i => i.onSale === true);
  }

  // Sort
  items = sortItems(items, sortOption);

  const totalItems = items.length;
  countEl.innerText = totalItems === 0 ? 'No items' : `${totalItems} item${totalItems !== 1 ? 's' : ''}`;

  if (totalItems === 0) {
    skel.style.display = 'none';
    empty.style.display = 'block';
    return;
  }

  const totalPages = Math.ceil(totalItems / PER_PAGE);
  const start = (currentPageNum - 1) * PER_PAGE;
  const pageItems = items.slice(start, start + PER_PAGE);

  // Cache the page (optional)
  const cacheKey = `cat_${currentCategory}_page${currentPageNum}_sort${sortOption}_sale${saleOnly}`;
  pageCache[cacheKey] = pageItems.map(i => i.id);

  grid.innerHTML = pageItems.map(item => itemCardHTML(item)).join('');
  skel.style.display = 'none';
  grid.style.display = 'grid';
  lazyImages();

  if (totalPages > 1) {
    pagination.innerHTML = buildPagination(totalPages);
  }
}

function sortItems(items, sort) {
  const sorted = [...items];
  if (sort === 'price-asc') sorted.sort((a,b) => (a.salePrice ?? a.price) - (b.salePrice ?? b.price));
  if (sort === 'price-desc') sorted.sort((a,b) => (b.salePrice ?? b.price) - (a.salePrice ?? a.price));
  if (sort === 'name-asc') sorted.sort((a,b) => a.name.localeCompare(b.name));
  if (sort === 'name-desc') sorted.sort((a,b) => b.name.localeCompare(a.name));
  return sorted;
}

function buildPagination(totalPages) {
  let html = '<div class="pagination">';
  html += `<button class="nav-btn" ${currentPageNum === 1 ? 'disabled' : ''} onclick="changePage(${currentPageNum-1})">‚Üê Prev</button>`;

  // simple pagination: show current, neighbours, first, last
  const range = [];
  if (totalPages <= 7) {
    for (let i = 1; i <= totalPages; i++) range.push(i);
  } else {
    range.push(1);
    if (currentPageNum > 3) range.push('‚Ä¶');
    let start = Math.max(2, currentPageNum - 1);
    let end = Math.min(totalPages - 1, currentPageNum + 1);
    for (let i = start; i <= end; i++) range.push(i);
    if (currentPageNum < totalPages - 2) range.push('‚Ä¶');
    range.push(totalPages);
  }

  range.forEach(p => {
    if (p === '‚Ä¶') html += `<span class="page-btn dots">‚Ä¶</span>`;
    else html += `<button class="page-btn ${p === currentPageNum ? 'active' : ''}" onclick="changePage(${p})">${p}</button>`;
  });

  html += `<button class="nav-btn" ${currentPageNum === totalPages ? 'disabled' : ''} onclick="changePage(${currentPageNum+1})">Next ‚Üí</button>`;
  html += '</div>';
  return html;
}

function changePage(newPage) {
  currentPageNum = newPage;
  renderCategoryPage(true);
}

// -------------------------------------------------------------
// SORT/FILTER EVENT LISTENERS
// -------------------------------------------------------------
document.getElementById('sortSelect').addEventListener('change', (e) => {
  sortOption = e.target.value;
  currentPageNum = 1;
  renderCategoryPage(true);
});
document.getElementById('saleToggle').addEventListener('change', (e) => {
  saleOnly = e.target.checked;
  currentPageNum = 1;
  renderCategoryPage(true);
});

// -------------------------------------------------------------
// ITEM CARD HTML
// -------------------------------------------------------------
function itemCardHTML(item) {
  const name = escapeHTML(item.name);
  const cat = escapeHTML(item.category);
  const price = item.salePrice ?? item.price;
  const oldPrice = item.onSale ? item.price : null;
  const img = item.image_url ? `<img data-src="${escapeAttr(item.image_url)}" src="" alt="${name}" class="lazy" onerror="this.style.display='none';this.nextElementSibling.style.display='flex'"><div class="item-image-placeholder" style="display:none;">${catIcon(cat)}</div>` : `<div class="item-image-placeholder">${catIcon(cat)}</div>`;
  const saleBadge = item.onSale ? '<span class="sale-badge">SALE</span>' : '';
  const inCart = cart.some(c => c.id === item.id);
  const payload = JSON.stringify({ id: item.id, name: item.name, price: price, category: item.category, image_url: item.image_url });

  return `<div class="item-card">
    <div class="item-image">
      ${saleBadge}
      ${img}
    </div>
    <div class="item-info">
      <div class="item-category">${cat}</div>
      <div class="item-name">${name}</div>
      <div class="item-footer">
        <div class="item-price">
          ${oldPrice ? `<span class="old-price">$${oldPrice.toFixed(2)}</span>` : ''}
          <span>$${price.toFixed(2)}</span>
        </div>
        <button class="add-button ${inCart ? 'added' : ''}" onclick='addToCart(${payload})'>${inCart ? '‚úì' : '+'}</button>
      </div>
    </div>
  </div>`;
}

// -------------------------------------------------------------
// CART
// -------------------------------------------------------------
function addToCart(item) {
  const existing = cart.find(c => c.id === item.id);
  if (existing) {
    existing.qty += 1;
  } else {
    cart.push({ ...item, qty: 1 });
  }
  updateCartBadge();
  renderCart();
  showToast(item.name + ' added');
  refreshAddButtons();
}
function updateQuantity(id, delta) {
  const idx = cart.findIndex(c => c.id === id);
  if (idx === -1) return;
  cart[idx].qty += delta;
  if (cart[idx].qty <= 0) cart.splice(idx, 1);
  updateCartBadge();
  renderCart();
  refreshAddButtons();
}
function removeItem(id) {
  cart = cart.filter(c => c.id !== id);
  updateCartBadge();
  renderCart();
  refreshAddButtons();
}
function clearCart() {
  cart = [];
  updateCartBadge();
  renderCart();
  refreshAddButtons();
}
function updateCartBadge() {
  const total = cart.reduce((s, i) => s + i.qty, 0);
  const badge = document.getElementById('cartBadge');
  badge.textContent = total > 99 ? '99+' : total;
  badge.classList.toggle('show', total > 0);
}
function openCart() {
  renderCart();
  document.getElementById('cartOverlay').classList.add('open');
  document.getElementById('cartDrawer').classList.add('open');
  document.body.style.overflow = 'hidden';
}
function closeCart() {
  document.getElementById('cartOverlay').classList.remove('open');
  document.getElementById('cartDrawer').classList.remove('open');
  document.body.style.overflow = '';
}
function renderCart() {
  const list = document.getElementById('cartItemsList');
  const footer = document.getElementById('cartFooter');
  if (!cart.length) {
    list.innerHTML = `<div class="cart-empty"><div style="font-size:48px;">üõí</div><p>Your bag is empty</p><button class="clear-btn" onclick="closeCart();showCategory('all',1)">Browse</button></div>`;
    footer.style.display = 'none';
    return;
  }
  footer.style.display = 'block';
  const total = cart.reduce((s, i) => s + i.price * i.qty, 0);
  document.getElementById('cartTotal').innerText = '$' + total.toFixed(2);
  list.innerHTML = cart.map(item => {
    return `<div class="cart-item">
      <div class="cart-item-image">${catIcon(item.category)}</div>
      <div class="cart-item-info">
        <div class="cart-item-name">${escapeHTML(item.name)}</div>
        <div class="cart-item-category">${escapeHTML(item.category)}</div>
        <div class="cart-item-price">$${(item.price * item.qty).toFixed(2)}</div>
      </div>
      <div class="cart-qty">
        <button class="qty-btn trash" onclick="removeItem('${escapeJS(item.id)}')">üóë</button>
        <button class="qty-btn" onclick="updateQuantity('${escapeJS(item.id)}', -1)">‚àí</button>
        <span class="qty-num">${item.qty}</span>
        <button class="qty-btn" onclick="updateQuantity('${escapeJS(item.id)}', 1)">+</button>
      </div>
    </div>`;
  }).join('');
}
function refreshAddButtons() {
  document.querySelectorAll('.add-button').forEach(btn => {
    try {
      const match = btn.getAttribute('onclick')?.match(/addToCart\((.+)\)/);
      if (!match) return;
      const obj = JSON.parse(match[1]);
      const inCart = cart.some(c => c.id === obj.id);
      btn.classList.toggle('added', inCart);
      btn.textContent = inCart ? '‚úì' : '+';
    } catch(e) {}
  });
}

// -------------------------------------------------------------
// SEARCH
// -------------------------------------------------------------
function openSearch() {
  document.getElementById('searchOverlay').classList.add('open');
  document.body.style.overflow = 'hidden';
  setTimeout(() => document.getElementById('searchInput').focus(), 80);
}
function closeSearch() {
  document.getElementById('searchOverlay').classList.remove('open');
  document.body.style.overflow = '';
  document.getElementById('searchInput').value = '';
  document.getElementById('searchResults').innerHTML = '<div class="search-msg">Start typing to search‚Ä¶</div>';
}
let searchTimer;
document.getElementById('searchInput').addEventListener('input', () => {
  clearTimeout(searchTimer);
  searchTimer = setTimeout(performSearch, 200);
});
async function performSearch() {
  const q = document.getElementById('searchInput').value.trim().toLowerCase();
  const resultsDiv = document.getElementById('searchResults');
  if (!q) { resultsDiv.innerHTML = '<div class="search-msg">Start typing to search‚Ä¶</div>'; return; }
  if (!dataReady) { resultsDiv.innerHTML = '<div class="search-msg">Loading‚Ä¶</div>'; await ensureData(); }
  const matched = allItems.filter(i => i.available !== false && (i.name.toLowerCase().includes(q) || i.category.toLowerCase().includes(q) || (i.description || '').toLowerCase().includes(q))).slice(0, 30);
  if (matched.length === 0) { resultsDiv.innerHTML = `<div class="search-msg">No results for ‚Äú${escapeHTML(q)}‚Äù</div>`; return; }
  resultsDiv.innerHTML = matched.map(item => {
    const payload = JSON.stringify({ id: item.id, name: item.name, price: item.salePrice ?? item.price, category: item.category, image_url: item.image_url });
    return `<div class="search-item" onclick='addToCart(${payload}); closeSearch();'>
      <div class="search-img-placeholder">${catIcon(item.category)}</div>
      <div class="search-info">
        <div class="search-name">${escapeHTML(item.name)}</div>
        <div class="search-category">${escapeHTML(item.category)}</div>
      </div>
      <div class="search-price">$${(item.salePrice ?? item.price).toFixed(2)}</div>
    </div>`;
  }).join('');
}

// -------------------------------------------------------------
// CONTACT
// -------------------------------------------------------------
function submitContact() {
  const name = document.getElementById('contactName').value.trim();
  const info = document.getElementById('contactInfo').value.trim();
  const msg = document.getElementById('contactMsg').value.trim();
  if (!name || !info || !msg) { showToast('Please fill all fields'); return; }
  document.getElementById('contactForm').style.display = 'none';
  document.getElementById('contactSuccess').style.display = 'block';
}
function resetContact() {
  document.getElementById('contactName').value = '';
  document.getElementById('contactInfo').value = '';
  document.getElementById('contactMsg').value = '';
  document.getElementById('contactForm').style.display = 'block';
  document.getElementById('contactSuccess').style.display = 'none';
}

// -------------------------------------------------------------
// TOAST
// -------------------------------------------------------------
let toastTimeout;
function showToast(msg) {
  const toast = document.getElementById('toast');
  toast.textContent = msg;
  toast.classList.add('show');
  clearTimeout(toastTimeout);
  toastTimeout = setTimeout(() => toast.classList.remove('show'), 2000);
}

// -------------------------------------------------------------
// LAZY IMAGES
// -------------------------------------------------------------
let observer;
function lazyImages() {
  if (!observer) {
    observer = new IntersectionObserver((entries) => {
      entries.forEach(e => {
        if (e.isIntersecting) {
          const img = e.target;
          if (img.dataset.src) {
            img.src = img.dataset.src;
            img.removeAttribute('data-src');
          }
          observer.unobserve(img);
        }
      });
    }, { rootMargin: '200px' });
  }
  document.querySelectorAll('img.lazy[data-src]').forEach(img => observer.observe(img));
}

// -------------------------------------------------------------
// BACK TO TOP BUTTON
// -------------------------------------------------------------
window.addEventListener('scroll', () => {
  const btn = document.getElementById('backToTop');
  btn.classList.toggle('visible', window.scrollY > 300);
});

// -------------------------------------------------------------
// HELPER FUNCTIONS
// -------------------------------------------------------------
function escapeHTML(str) {
  return String(str || '').replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
}
function escapeAttr(str) {
  return String(str || '').replace(/"/g, '&quot;');
}
function escapeJS(str) {
  return String(str || '').replace(/\\/g, '\\\\').replace(/'/g, "\\'");
}

// -------------------------------------------------------------
// GENERATE 100+ DEMO ITEMS
// -------------------------------------------------------------
function generateDemoItems() {
  const base = [
    { cat: 'Stationery', names: ['Premium Hardcover Notebook A5', 'Softcover Journal B5', 'Fountain Pen Set', 'Ballpoint Pens 10-Pack', 'Mechanical Pencil 0.5mm', 'Highlighters 6-Color Set', 'Sticky Notes 5-Pack', 'Correction Tape 2-Pack', 'Stapler & Staples Bundle', 'Scissors Set ‚Äî 2 Sizes'] },
    { cat: 'Books', names: ['World Atlas 2024 Edition', 'Arabic Grammar Workbook', 'Children\'s Story Bundle ‚Äî 5 Books', 'Science Encyclopedia Illustrated', 'History of Lebanon', 'Mathematics Textbook Grade 9', 'English Grammar in Use', 'French for Beginners', 'Quran ‚Äî Large Print Edition', 'Bible ‚Äî New Translation'] },
    { cat: 'Art', names: ['Watercolor Set ‚Äî 24 Colors', 'Colored Pencils ‚Äî 36 Pack', 'Sketching Charcoal Kit', 'Acrylic Paint Set ‚Äî 12 Tubes', 'Oil Pastel Crayons 50-Pack', 'Drawing Pad A3 ‚Äî 50 Sheets', 'Canvas Boards ‚Äî Set of 5', 'Paint Brushes Set ‚Äî 15 Piece', 'Palette Knife Set ‚Äî 5 Piece', 'Art Eraser & Sharpener Kit'] },
    { cat: 'School', names: ['Geometry & Math Set', 'Scientific Calculator', 'Backpack 20L ‚Äî Black', 'Backpack 20L ‚Äî Navy Blue', 'Pencil Case ‚Äî Large', 'Binder A4 ‚Äî 2 Ring', 'Index Dividers ‚Äî 10 Tabs', 'Composition Notebooks 3-Pack', 'Plastic Folders 10-Pack', 'Label Stickers ‚Äî 200 Pack'] },
    { cat: 'Office & Gifts', names: ['Desk Organizer ‚Äî Bamboo', 'Whiteboard Markers 8-Color', 'File Folders ‚Äî 10-Pack', 'Tape Dispenser + 3 Rolls', 'Business Card Holder', 'Mini Gift Box Set ‚Äî 6 Pack', 'Gift Wrap Kit ‚Äî Deluxe', 'Greeting Cards ‚Äî 12 Pack', 'Wooden Photo Frames ‚Äî Set of 3', 'Thank You Card Box ‚Äî 24 Pack'] }
  ];

  const items = [];
  let id = 1;
  for (let g of base) {
    for (let name of g.names) {
      // each base name appears twice (to reach 100)
      for (let i = 1; i <= 2; i++) {
        const price = 2 + Math.floor(Math.random() * 30) + 0.5;
        const onSale = Math.random() < 0.2; // 20% on sale
        const salePrice = onSale ? price * (0.7 + Math.random() * 0.2) : null;
        const featured = Math.random() < 0.1;
        items.push({
          id: 'd' + (id++),
          name: name + (i > 1 ? ' ' + i : ''),
          category: g.cat,
          price: +price.toFixed(2),
          onSale,
          salePrice: salePrice ? +salePrice.toFixed(2) : null,
          featured,
          available: true,
          image_url: '',
          description: ''
        });
      }
    }
  }
  // ensure at least 100 items
  while (items.length < 100) {
    items.push({
      id: 'd' + (id++),
      name: 'Extra Item ' + id,
      category: 'Stationery',
      price: 5.99,
      onSale: false,
      featured: false,
      available: true,
      image_url: ''
    });
  }
  return items;
}
</script>
</body>
</html>